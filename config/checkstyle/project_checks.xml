<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE module PUBLIC "-//Puppy Crawl//DTD Check Configuration 1.3//EN" "http://www.puppycrawl.com/dtds/configuration_1_3.dtd">
<!-- this is a very limited set of checkstyle rules mainly because TreeWalker rules are not supported for kt files yet.-->
<module name="Checker">
  <property name="severity" value="warning"/>
  <property name="charset" value="UTF-8"/>
  <module name="SuppressionFilter">
    <property name="file" value="project_suppressions.xml"/>
  </module>
  <module name="SuppressWarningsFilter"/>
  <module name="FileTabCharacter">
    <property name="severity" value="error"/>
  </module>
  <module name="NewlineAtEndOfFile">
    <property name="severity" value="error"/>
  </module>
  <module name="RegexpSingleline">
    <property name="severity" value="error"/>
    <property name="format" value="[ \t]+$"/>
    <property name="message" value="Trailing whitespace"/>
  </module>
  <module name="RegexpSingleline">
    <property name="id" value="DoNotImportBeyondRCheck"/>
    <property name="severity" value="error"/>
    <property name="format" value="io\.github\.getsixtyfour\.openpyn\.R[^;]"/>
    <property name="message" value="Only import io.github.getsixtyfour.openpyn.R"/>
  </module>
  <module name="RegexpSingleline">
    <property name="id" value="DoNotUseAnkoLoggerCheck"/>
    <property name="severity" value="error"/>
    <property name="format" value="org\.jetbrains\.anko\.AnkoLogger"/>
    <property name="message" value="Avoid org.jetbrains.anko.AnkoLogger."/>
  </module>
  <module name="RegexpSingleline">
    <property name="id" value="DoNotUseAnkoLoggerMethodsCheck"/>
    <property name="severity" value="error"/>
    <property name="format" value="\s{2,}(verbose|debug|info|warn|error|wtf)\(.*\)"/>
    <property name="message" value="Avoid AnkoLogger; if possible, use org.slf4j.Logger instead"/>
  </module>
  <module name="RegexpSingleline">
    <property name="id" value="DoNotUseAndroidLogCheck"/>
    <property name="severity" value="error"/>
    <property name="format" value="import android\.util\.Log"/>
    <property name="message" value="Avoid android.util.Log."/>
  </module>
  <module name="RegexpSingleline">
    <property name="id" value="DoNotUseStaticLogCheck"/>
    <property name="severity" value="error"/>
    <property name="format" value="de\.jupf\.staticlog\.Log"/>
    <property name="message" value="Avoid de.jupf.staticlog.Log."/>
  </module>
  <module name="RegexpSingleline">
    <property name="id" value="DoNotUseStaticLogMethodsCheck"/>
    <property name="severity" value="error"/>
    <property name="format" value="\s+Log\..*\)"/>
    <property name="message" value="Avoid StaticLog, Android Log implementation; if possible, use org.slf4j.Logger instead"/>
  </module>
  <module name="TreeWalker">
    <module name="SuppressWarningsHolder"/>
    <module name="RegexpSinglelineJava">
      <property name="id" value="StringBufferCheck"/>
      <property name="severity" value="error"/>
      <property name="format" value="StringBuffer\("/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="Avoid StringBuffer; use StringBuilder instead, which is faster (it's not thread-safe, but this is almost never needed)"/>
    </module>
    <module name="RegexpSinglelineJava">
      <property name="id" value="AlertDialogCheck"/>
      <property name="severity" value="warning"/>
      <property name="format" value="android\.app\.AlertDialog"/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="Avoid android.app.AlertDialog; if possible, use android.support.v7.app.AlertDialog instead, which has a Material look on all devices. (Some parts of the codebase canâ€™t depend on the support library, in which case android.app.AlertDialog is the only option)"/>
    </module>
    <module name="RegexpSinglelineJava">
      <property name="id" value="ConcurrentHashMapCheck"/>
      <property name="severity" value="error"/>
      <property name="format" value="java\.util\.concurrent\.ConcurrentHashMap"/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="ConcurrentHashMap has a bug on some Android versions. Use Collections.synchronizedMap() instead (crbug.com/905903)."/>
    </module>
    <module name="RegexpSinglelineJava">
      <property name="id" value="StrictModeContextIgnoredCheck"/>
      <property name="severity" value="error"/>
      <property name="format" value="try .*StrictModeContext (?!ignored).*="/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="Please name the StrictModeContext variable &quot;ignored&quot; (crbug.com/767058#c4)."/>
    </module>
    <module name="RegexpSinglelineJava">
      <!-- Tests are also allowed to use System.exit if need be, please add dirs to project_suppressions.xml -->
      <property name="id" value="SystemExitCheck"/>
      <property name="severity" value="error"/>
      <property name="format" value="System\.exit\("/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="Throw an exception instead of calling System#exit (crbug.com/1000651)."/>
    </module>
    <module name="RegexpSinglelineJava">
      <property name="id" value="AndroidButtonWidgetCheck"/>
      <property name="severity" value="warning"/>
      <property name="format" value="extends\ Button|extends\ AppCompatButton"/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="Use org.chromium.ui.widget.ButtonCompat instead of Button and AppCompatButton if possible; ButtonCompat is a Material-styled button with a customizable background color. On L devices, this is a true Material button. On earlier devices, the button is similar but lacks ripples and a shadow. (crbug.com/775198)"/>
    </module>
    <module name="RegexpSinglelineJava">
      <property name="id" value="SetTextColorAndSetTextSizeCheck"/>
      <property name="severity" value="warning"/>
      <property name="format" value="\.setTextColor\(|\.setTextSize\("/>
      <property name="ignoreComments" value="true"/>
      <property name="message" value="If possible, please use #setTextAppearance to set one of the pre-defined text appearance styles in src/ui/android/java/res/values-v17/styles.xml, instead of using #setTextColor or #setTextSize. This will ensure that your programmatically set text styles stay in-sync with text styles used in the rest of Chrome. (crbug.com/775198)"/>
    </module>
  </module>
</module>
